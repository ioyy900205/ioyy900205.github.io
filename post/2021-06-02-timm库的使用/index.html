<!doctype html>
<html lang="en-us">
  <head>
    <title>timm库的使用 // 亮的笔记</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.90.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Liu Liang" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://ioyy900205.github.io/css/main.min.88e7083eff65effb7485b6e6f38d10afbec25093a6fac42d734ce9024d3defbd.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="timm库的使用"/>
<meta name="twitter:description" content="在研究transformer时，发现timm库可以直接使用预训练的模型。
  1. timm简介 2. 已有的预训练模型 3. 验证模式查看预训练结果 4. 使用ViT模型 5. 使用tf_efficientnet_l2_ns模型  1. timm简介 PyTorchImageModels，简称timm，是一个巨大的PyTorch代码集合
旨在将各种SOTA模型整合在一起，并具有复现ImageNet训练结果的能力。
2. 已有的预训练模型 &#39;adv_inception_v3&#39;,&#39;cait_m36_384&#39;,&#39;cait_m48_448&#39;,&#39;cait_s24_224&#39;,&#39;cait_s24_384&#39;,&#39;cait_s36_384&#39;,&#39;cait_xs24_384&#39;,&#39;cait_xxs24_224&#39;,&#39;cait_xxs24_384&#39;,&#39;cait_xxs36_224&#39;,&#39;cait_xxs36_384&#39;,&#39;coat_lite_mini&#39;,&#39;coat_lite_tiny&#39;,&#39;cspdarknet53&#39;,&#39;cspresnet50&#39;,&#39;cspresnext50&#39;,&#39;densenet121&#39;,&#39;densenet161&#39;,&#39;densenet169&#39;,&#39;densenet201&#39;,&#39;densenetblur121d&#39;,&#39;dla34&#39;,&#39;dla46_c&#39;,&#39;dla46x_c&#39;,&#39;dla60&#39;,&#39;dla60_res2net&#39;,&#39;dla60_res2next&#39;,&#39;dla60x&#39;,&#39;dla60x_c&#39;,&#39;dla102&#39;,&#39;dla102x&#39;,&#39;dla102x2&#39;,&#39;dla169&#39;,&#39;dm_nfnet_f0&#39;,&#39;dm_nfnet_f1&#39;,&#39;dm_nfnet_f2&#39;,&#39;dm_nfnet_f3&#39;,&#39;dm_nfnet_f4&#39;,&#39;dm_nfnet_f5&#39;,&#39;dm_nfnet_f6&#39;,&#39;dpn68&#39;,&#39;dpn68b&#39;,&#39;dpn92&#39;,&#39;dpn98&#39;,&#39;dpn107&#39;,&#39;dpn131&#39;,&#39;eca_nfnet_l0&#39;,&#39;eca_nfnet_l1&#39;,&#39;ecaresnet26t&#39;,&#39;ecaresnet50d&#39;,&#39;ecaresnet50d_pruned&#39;,&#39;ecaresnet50t&#39;,&#39;ecaresnet101d&#39;,&#39;ecaresnet101d_pruned&#39;,&#39;ecaresnet269d&#39;,&#39;ecaresnetlight&#39;,&#39;efficientnet_b0&#39;,&#39;efficientnet_b1&#39;,&#39;efficientnet_b1_pruned&#39;,&#39;efficientnet_b2&#39;,&#39;efficientnet_b2_pruned&#39;,&#39;efficientnet_b3&#39;,&#39;efficientnet_b3_pruned&#39;,&#39;efficientnet_b4&#39;,&#39;efficientnet_el&#39;,&#39;efficientnet_el_pruned&#39;,&#39;efficientnet_em&#39;,&#39;efficientnet_es&#39;,&#39;efficientnet_es_pruned&#39;,&#39;efficientnet_lite0&#39;,&#39;efficientnetv2_rw_s&#39;,&#39;ens_adv_inception_resnet_v2&#39;,&#39;ese_vovnet19b_dw&#39;,&#39;ese_vovnet39b&#39;,&#39;fbnetc_100&#39;,&#39;gernet_l&#39;,&#39;gernet_m&#39;,&#39;gernet_s&#39;,&#39;ghostnet_100&#39;,&#39;gluon_inception_v3&#39;,&#39;gluon_resnet18_v1b&#39;,&#39;gluon_resnet34_v1b&#39;,&#39;gluon_resnet50_v1b&#39;,&#39;gluon_resnet50_v1c&#39;,&#39;gluon_resnet50_v1d&#39;,&#39;gluon_resnet50_v1s&#39;,&#39;gluon_resnet101_v1b&#39;,&#39;gluon_resnet101_v1c&#39;,&#39;gluon_resnet101_v1d&#39;,&#39;gluon_resnet101_v1s&#39;,&#39;gluon_resnet152_v1b&#39;,&#39;gluon_resnet152_v1c&#39;,&#39;gluon_resnet152_v1d&#39;,&#39;gluon_resnet152_v1s&#39;,&#39;gluon_resnext50_32x4d&#39;,&#39;gluon_resnext101_32x4d&#39;,&#39;gluon_resnext101_64x4d&#39;,&#39;gluon_senet154&#39;,&#39;gluon_seresnext50_32x4d&#39;,&#39;gluon_seresnext101_32x4d&#39;,&#39;gluon_seresnext101_64x4d&#39;,&#39;gluon_xception65&#39;,&#39;hardcorenas_a&#39;,&#39;hardcorenas_b&#39;,&#39;hardcorenas_c&#39;,&#39;hardcorenas_d&#39;,&#39;hardcorenas_e&#39;,&#39;hardcorenas_f&#39;,&#39;hrnet_w18&#39;,&#39;hrnet_w18_small&#39;,&#39;hrnet_w18_small_v2&#39;,&#39;hrnet_w30&#39;,&#39;hrnet_w32&#39;,&#39;hrnet_w40&#39;,&#39;hrnet_w44&#39;,&#39;hrnet_w48&#39;,&#39;hrnet_w64&#39;,&#39;ig_resnext101_32x8d&#39;,&#39;ig_resnext101_32x16d&#39;,&#39;ig_resnext101_32x32d&#39;,&#39;ig_resnext101_32x48d&#39;,&#39;inception_resnet_v2&#39;,&#39;inception_v3&#39;,&#39;inception_v4&#39;,&#39;legacy_senet154&#39;,&#39;legacy_seresnet18&#39;,&#39;legacy_seresnet34&#39;,&#39;legacy_seresnet50&#39;,&#39;legacy_seresnet101&#39;,&#39;legacy_seresnet152&#39;,&#39;legacy_seresnext26_32x4d&#39;,&#39;legacy_seresnext50_32x4d&#39;,&#39;legacy_seresnext101_32x4d&#39;,&#39;mixer_b16_224&#39;,&#39;mixer_b16_224_in21k&#39;,&#39;mixer_l16_224&#39;,&#39;mixer_l16_224_in21k&#39;,&#39;mixnet_l&#39;,&#39;mixnet_m&#39;,&#39;mixnet_s&#39;,&#39;mixnet_xl&#39;,&#39;mnasnet_100&#39;,&#39;mobilenetv2_100&#39;,&#39;mobilenetv2_110d&#39;,&#39;mobilenetv2_120d&#39;,&#39;mobilenetv2_140&#39;,&#39;mobilenetv3_large_100&#39;,&#39;mobilenetv3_large_100_miil&#39;,&#39;mobilenetv3_large_100_miil_in21k&#39;,&#39;mobilenetv3_rw&#39;,&#39;nasnetalarge&#39;,&#39;nf_regnet_b1&#39;,&#39;nf_resnet50&#39;,&#39;nfnet_l0&#39;,&#39;pit_b_224&#39;,&#39;pit_b_distilled_224&#39;,&#39;pit_s_224&#39;,&#39;pit_s_distilled_224&#39;,&#39;pit_ti_224&#39;,&#39;pit_ti_distilled_224&#39;,&#39;pit_xs_224&#39;,&#39;pit_xs_distilled_224&#39;,&#39;pnasnet5large&#39;,&#39;regnetx_002&#39;,&#39;regnetx_004&#39;,&#39;regnetx_006&#39;,&#39;regnetx_008&#39;,&#39;regnetx_016&#39;,&#39;regnetx_032&#39;,&#39;regnetx_040&#39;,&#39;regnetx_064&#39;,&#39;regnetx_080&#39;,&#39;regnetx_120&#39;,&#39;regnetx_160&#39;,&#39;regnetx_320&#39;,&#39;regnety_002&#39;,&#39;regnety_004&#39;,&#39;regnety_006&#39;,&#39;regnety_008&#39;,&#39;regnety_016&#39;,&#39;regnety_032&#39;,&#39;regnety_040&#39;,&#39;regnety_064&#39;,&#39;regnety_080&#39;,&#39;regnety_120&#39;,&#39;regnety_160&#39;,&#39;regnety_320&#39;,&#39;repvgg_a2&#39;,&#39;repvgg_b0&#39;,&#39;repvgg_b1&#39;,&#39;repvgg_b1g4&#39;,&#39;repvgg_b2&#39;,&#39;repvgg_b2g4&#39;,&#39;repvgg_b3&#39;,&#39;repvgg_b3g4&#39;,&#39;res2net50_14w_8s&#39;,&#39;res2net50_26w_4s&#39;,&#39;res2net50_26w_6s&#39;,&#39;res2net50_26w_8s&#39;,&#39;res2net50_48w_2s&#39;,&#39;res2net101_26w_4s&#39;,&#39;res2next50&#39;,&#39;resnest14d&#39;,&#39;resnest26d&#39;,&#39;resnest50d&#39;,&#39;resnest50d_1s4x24d&#39;,&#39;resnest50d_4s2x40d&#39;,&#39;resnest101e&#39;,&#39;resnest200e&#39;,&#39;resnest269e&#39;,&#39;resnet18&#39;,&#39;resnet18d&#39;,&#39;resnet26&#39;,&#39;resnet26d&#39;,&#39;resnet34&#39;,&#39;resnet34d&#39;,&#39;resnet50&#39;,&#39;resnet50d&#39;,&#39;resnet101d&#39;,&#39;resnet152d&#39;,&#39;resnet200d&#39;,&#39;resnetblur50&#39;,&#39;resnetrs50&#39;,&#39;resnetrs101&#39;,&#39;resnetrs152&#39;,&#39;resnetrs200&#39;,&#39;resnetrs270&#39;,&#39;resnetrs350&#39;,&#39;resnetrs420&#39;,&#39;resnetv2_50x1_bitm&#39;,&#39;resnetv2_50x1_bitm_in21k&#39;,&#39;resnetv2_50x3_bitm&#39;,&#39;resnetv2_50x3_bitm_in21k&#39;,&#39;resnetv2_101x1_bitm&#39;,&#39;resnetv2_101x1_bitm_in21k&#39;,&#39;resnetv2_101x3_bitm&#39;,&#39;resnetv2_101x3_bitm_in21k&#39;,&#39;resnetv2_152x2_bitm&#39;,&#39;resnetv2_152x2_bitm_in21k&#39;,&#39;resnetv2_152x4_bitm&#39;,&#39;resnetv2_152x4_bitm_in21k&#39;,&#39;resnext50_32x4d&#39;,&#39;resnext50d_32x4d&#39;,&#39;resnext101_32x8d&#39;,&#39;rexnet_100&#39;,&#39;rexnet_130&#39;,&#39;rexnet_150&#39;,&#39;rexnet_200&#39;,&#39;selecsls42b&#39;,&#39;selecsls60&#39;,&#39;selecsls60b&#39;,&#39;semnasnet_100&#39;,&#39;seresnet50&#39;,&#39;seresnet152d&#39;,&#39;seresnext26d_32x4d&#39;,&#39;seresnext26t_32x4d&#39;,&#39;seresnext50_32x4d&#39;,&#39;skresnet18&#39;,&#39;skresnet34&#39;,&#39;skresnext50_32x4d&#39;,&#39;spnasnet_100&#39;,&#39;ssl_resnet18&#39;,&#39;ssl_resnet50&#39;,&#39;ssl_resnext50_32x4d&#39;,&#39;ssl_resnext101_32x4d&#39;,&#39;ssl_resnext101_32x8d&#39;,&#39;ssl_resnext101_32x16d&#39;,&#39;swin_base_patch4_window7_224&#39;,&#39;swin_base_patch4_window7_224_in22k&#39;,&#39;swin_base_patch4_window12_384&#39;,&#39;swin_base_patch4_window12_384_in22k&#39;,&#39;swin_large_patch4_window7_224&#39;,&#39;swin_large_patch4_window7_224_in22k&#39;,&#39;swin_large_patch4_window12_384&#39;,&#39;swin_large_patch4_window12_384_in22k&#39;,&#39;swin_small_patch4_window7_224&#39;,&#39;swin_tiny_patch4_window7_224&#39;,&#39;swsl_resnet18&#39;,&#39;swsl_resnet50&#39;,&#39;swsl_resnext50_32x4d&#39;,&#39;swsl_resnext101_32x4d&#39;,&#39;swsl_resnext101_32x8d&#39;,&#39;swsl_resnext101_32x16d&#39;,&#39;tf_efficientnet_b0&#39;,&#39;tf_efficientnet_b0_ap&#39;,&#39;tf_efficientnet_b0_ns&#39;,&#39;tf_efficientnet_b1&#39;,&#39;tf_efficientnet_b1_ap&#39;,&#39;tf_efficientnet_b1_ns&#39;,&#39;tf_efficientnet_b2&#39;,&#39;tf_efficientnet_b2_ap&#39;,&#39;tf_efficientnet_b2_ns&#39;,&#39;tf_efficientnet_b3&#39;,&#39;tf_efficientnet_b3_ap&#39;,&#39;tf_efficientnet_b3_ns&#39;,&#39;tf_efficientnet_b4&#39;,&#39;tf_efficientnet_b4_ap&#39;,&#39;tf_efficientnet_b4_ns&#39;,&#39;tf_efficientnet_b5&#39;,&#39;tf_efficientnet_b5_ap&#39;,&#39;tf_efficientnet_b5_ns&#39;,&#39;tf_efficientnet_b6&#39;,&#39;tf_efficientnet_b6_ap&#39;,&#39;tf_efficientnet_b6_ns&#39;,&#39;tf_efficientnet_b7&#39;,&#39;tf_efficientnet_b7_ap&#39;,&#39;tf_efficientnet_b7_ns&#39;,&#39;tf_efficientnet_b8&#39;,&#39;tf_efficientnet_b8_ap&#39;,&#39;tf_efficientnet_cc_b0_4e&#39;,&#39;tf_efficientnet_cc_b0_8e&#39;,&#39;tf_efficientnet_cc_b1_8e&#39;,&#39;tf_efficientnet_el&#39;,&#39;tf_efficientnet_em&#39;,&#39;tf_efficientnet_es&#39;,&#39;tf_efficientnet_l2_ns&#39;,&#39;tf_efficientnet_l2_ns_475&#39;,&#39;tf_efficientnet_lite0&#39;,&#39;tf_efficientnet_lite1&#39;,&#39;tf_efficientnet_lite2&#39;,&#39;tf_efficientnet_lite3&#39;,&#39;tf_efficientnet_lite4&#39;,&#39;tf_efficientnetv2_b0&#39;,&#39;tf_efficientnetv2_b1&#39;,&#39;tf_efficientnetv2_b2&#39;,&#39;tf_efficientnetv2_b3&#39;,&#39;tf_efficientnetv2_l&#39;,&#39;tf_efficientnetv2_l_in21ft1k&#39;,&#39;tf_efficientnetv2_l_in21k&#39;,&#39;tf_efficientnetv2_m&#39;,&#39;tf_efficientnetv2_m_in21ft1k&#39;,&#39;tf_efficientnetv2_m_in21k&#39;,&#39;tf_efficientnetv2_s&#39;,&#39;tf_efficientnetv2_s_in21ft1k&#39;,&#39;tf_efficientnetv2_s_in21k&#39;,&#39;tf_inception_v3&#39;,&#39;tf_mixnet_l&#39;,&#39;tf_mixnet_m&#39;,&#39;tf_mixnet_s&#39;,&#39;tf_mobilenetv3_large_075&#39;,&#39;tf_mobilenetv3_large_100&#39;,&#39;tf_mobilenetv3_large_minimal_100&#39;,&#39;tf_mobilenetv3_small_075&#39;,&#39;tf_mobilenetv3_small_100&#39;,&#39;tf_mobilenetv3_small_minimal_100&#39;,&#39;tnt_s_patch16_224&#39;,&#39;tresnet_l&#39;,&#39;tresnet_l_448&#39;,&#39;tresnet_m&#39;,&#39;tresnet_m_448&#39;,&#39;tresnet_m_miil_in21k&#39;,&#39;tresnet_xl&#39;,&#39;tresnet_xl_448&#39;,&#39;tv_densenet121&#39;,&#39;tv_resnet34&#39;,&#39;tv_resnet50&#39;,&#39;tv_resnet101&#39;,&#39;tv_resnet152&#39;,&#39;tv_resnext50_32x4d&#39;,&#39;vgg11&#39;,&#39;vgg11_bn&#39;,&#39;vgg13&#39;,&#39;vgg13_bn&#39;,&#39;vgg16&#39;,&#39;vgg16_bn&#39;,&#39;vgg19&#39;,&#39;vgg19_bn&#39;,&#39;vit_base_patch16_224&#39;,&#39;vit_base_patch16_224_in21k&#39;,&#39;vit_base_patch16_224_miil&#39;,&#39;vit_base_patch16_224_miil_in21k&#39;,&#39;vit_base_patch16_384&#39;,&#39;vit_base_patch32_224_in21k&#39;,&#39;vit_base_patch32_384&#39;,&#39;vit_base_r50_s16_224_in21k&#39;,&#39;vit_base_r50_s16_384&#39;,&#39;vit_deit_base_distilled_patch16_224&#39;,&#39;vit_deit_base_distilled_patch16_384&#39;,&#39;vit_deit_base_patch16_224&#39;,&#39;vit_deit_base_patch16_384&#39;,&#39;vit_deit_small_distilled_patch16_224&#39;,&#39;vit_deit_small_patch16_224&#39;,&#39;vit_deit_tiny_distilled_patch16_224&#39;,&#39;vit_deit_tiny_patch16_224&#39;,&#39;vit_large_patch16_224&#39;,&#39;vit_large_patch16_224_in21k&#39;,&#39;vit_large_patch16_384&#39;,&#39;vit_large_patch32_224_in21k&#39;,&#39;vit_large_patch32_384&#39;,&#39;vit_small_patch16_224&#39;,&#39;wide_resnet50_2&#39;,&#39;wide_resnet101_2&#39;,&#39;xception&#39;,&#39;xception41&#39;,&#39;xception65&#39;,&#39;xception71&#39; 3."/>

    <meta property="og:title" content="timm库的使用" />
<meta property="og:description" content="在研究transformer时，发现timm库可以直接使用预训练的模型。
  1. timm简介 2. 已有的预训练模型 3. 验证模式查看预训练结果 4. 使用ViT模型 5. 使用tf_efficientnet_l2_ns模型  1. timm简介 PyTorchImageModels，简称timm，是一个巨大的PyTorch代码集合
旨在将各种SOTA模型整合在一起，并具有复现ImageNet训练结果的能力。
2. 已有的预训练模型 &#39;adv_inception_v3&#39;,&#39;cait_m36_384&#39;,&#39;cait_m48_448&#39;,&#39;cait_s24_224&#39;,&#39;cait_s24_384&#39;,&#39;cait_s36_384&#39;,&#39;cait_xs24_384&#39;,&#39;cait_xxs24_224&#39;,&#39;cait_xxs24_384&#39;,&#39;cait_xxs36_224&#39;,&#39;cait_xxs36_384&#39;,&#39;coat_lite_mini&#39;,&#39;coat_lite_tiny&#39;,&#39;cspdarknet53&#39;,&#39;cspresnet50&#39;,&#39;cspresnext50&#39;,&#39;densenet121&#39;,&#39;densenet161&#39;,&#39;densenet169&#39;,&#39;densenet201&#39;,&#39;densenetblur121d&#39;,&#39;dla34&#39;,&#39;dla46_c&#39;,&#39;dla46x_c&#39;,&#39;dla60&#39;,&#39;dla60_res2net&#39;,&#39;dla60_res2next&#39;,&#39;dla60x&#39;,&#39;dla60x_c&#39;,&#39;dla102&#39;,&#39;dla102x&#39;,&#39;dla102x2&#39;,&#39;dla169&#39;,&#39;dm_nfnet_f0&#39;,&#39;dm_nfnet_f1&#39;,&#39;dm_nfnet_f2&#39;,&#39;dm_nfnet_f3&#39;,&#39;dm_nfnet_f4&#39;,&#39;dm_nfnet_f5&#39;,&#39;dm_nfnet_f6&#39;,&#39;dpn68&#39;,&#39;dpn68b&#39;,&#39;dpn92&#39;,&#39;dpn98&#39;,&#39;dpn107&#39;,&#39;dpn131&#39;,&#39;eca_nfnet_l0&#39;,&#39;eca_nfnet_l1&#39;,&#39;ecaresnet26t&#39;,&#39;ecaresnet50d&#39;,&#39;ecaresnet50d_pruned&#39;,&#39;ecaresnet50t&#39;,&#39;ecaresnet101d&#39;,&#39;ecaresnet101d_pruned&#39;,&#39;ecaresnet269d&#39;,&#39;ecaresnetlight&#39;,&#39;efficientnet_b0&#39;,&#39;efficientnet_b1&#39;,&#39;efficientnet_b1_pruned&#39;,&#39;efficientnet_b2&#39;,&#39;efficientnet_b2_pruned&#39;,&#39;efficientnet_b3&#39;,&#39;efficientnet_b3_pruned&#39;,&#39;efficientnet_b4&#39;,&#39;efficientnet_el&#39;,&#39;efficientnet_el_pruned&#39;,&#39;efficientnet_em&#39;,&#39;efficientnet_es&#39;,&#39;efficientnet_es_pruned&#39;,&#39;efficientnet_lite0&#39;,&#39;efficientnetv2_rw_s&#39;,&#39;ens_adv_inception_resnet_v2&#39;,&#39;ese_vovnet19b_dw&#39;,&#39;ese_vovnet39b&#39;,&#39;fbnetc_100&#39;,&#39;gernet_l&#39;,&#39;gernet_m&#39;,&#39;gernet_s&#39;,&#39;ghostnet_100&#39;,&#39;gluon_inception_v3&#39;,&#39;gluon_resnet18_v1b&#39;,&#39;gluon_resnet34_v1b&#39;,&#39;gluon_resnet50_v1b&#39;,&#39;gluon_resnet50_v1c&#39;,&#39;gluon_resnet50_v1d&#39;,&#39;gluon_resnet50_v1s&#39;,&#39;gluon_resnet101_v1b&#39;,&#39;gluon_resnet101_v1c&#39;,&#39;gluon_resnet101_v1d&#39;,&#39;gluon_resnet101_v1s&#39;,&#39;gluon_resnet152_v1b&#39;,&#39;gluon_resnet152_v1c&#39;,&#39;gluon_resnet152_v1d&#39;,&#39;gluon_resnet152_v1s&#39;,&#39;gluon_resnext50_32x4d&#39;,&#39;gluon_resnext101_32x4d&#39;,&#39;gluon_resnext101_64x4d&#39;,&#39;gluon_senet154&#39;,&#39;gluon_seresnext50_32x4d&#39;,&#39;gluon_seresnext101_32x4d&#39;,&#39;gluon_seresnext101_64x4d&#39;,&#39;gluon_xception65&#39;,&#39;hardcorenas_a&#39;,&#39;hardcorenas_b&#39;,&#39;hardcorenas_c&#39;,&#39;hardcorenas_d&#39;,&#39;hardcorenas_e&#39;,&#39;hardcorenas_f&#39;,&#39;hrnet_w18&#39;,&#39;hrnet_w18_small&#39;,&#39;hrnet_w18_small_v2&#39;,&#39;hrnet_w30&#39;,&#39;hrnet_w32&#39;,&#39;hrnet_w40&#39;,&#39;hrnet_w44&#39;,&#39;hrnet_w48&#39;,&#39;hrnet_w64&#39;,&#39;ig_resnext101_32x8d&#39;,&#39;ig_resnext101_32x16d&#39;,&#39;ig_resnext101_32x32d&#39;,&#39;ig_resnext101_32x48d&#39;,&#39;inception_resnet_v2&#39;,&#39;inception_v3&#39;,&#39;inception_v4&#39;,&#39;legacy_senet154&#39;,&#39;legacy_seresnet18&#39;,&#39;legacy_seresnet34&#39;,&#39;legacy_seresnet50&#39;,&#39;legacy_seresnet101&#39;,&#39;legacy_seresnet152&#39;,&#39;legacy_seresnext26_32x4d&#39;,&#39;legacy_seresnext50_32x4d&#39;,&#39;legacy_seresnext101_32x4d&#39;,&#39;mixer_b16_224&#39;,&#39;mixer_b16_224_in21k&#39;,&#39;mixer_l16_224&#39;,&#39;mixer_l16_224_in21k&#39;,&#39;mixnet_l&#39;,&#39;mixnet_m&#39;,&#39;mixnet_s&#39;,&#39;mixnet_xl&#39;,&#39;mnasnet_100&#39;,&#39;mobilenetv2_100&#39;,&#39;mobilenetv2_110d&#39;,&#39;mobilenetv2_120d&#39;,&#39;mobilenetv2_140&#39;,&#39;mobilenetv3_large_100&#39;,&#39;mobilenetv3_large_100_miil&#39;,&#39;mobilenetv3_large_100_miil_in21k&#39;,&#39;mobilenetv3_rw&#39;,&#39;nasnetalarge&#39;,&#39;nf_regnet_b1&#39;,&#39;nf_resnet50&#39;,&#39;nfnet_l0&#39;,&#39;pit_b_224&#39;,&#39;pit_b_distilled_224&#39;,&#39;pit_s_224&#39;,&#39;pit_s_distilled_224&#39;,&#39;pit_ti_224&#39;,&#39;pit_ti_distilled_224&#39;,&#39;pit_xs_224&#39;,&#39;pit_xs_distilled_224&#39;,&#39;pnasnet5large&#39;,&#39;regnetx_002&#39;,&#39;regnetx_004&#39;,&#39;regnetx_006&#39;,&#39;regnetx_008&#39;,&#39;regnetx_016&#39;,&#39;regnetx_032&#39;,&#39;regnetx_040&#39;,&#39;regnetx_064&#39;,&#39;regnetx_080&#39;,&#39;regnetx_120&#39;,&#39;regnetx_160&#39;,&#39;regnetx_320&#39;,&#39;regnety_002&#39;,&#39;regnety_004&#39;,&#39;regnety_006&#39;,&#39;regnety_008&#39;,&#39;regnety_016&#39;,&#39;regnety_032&#39;,&#39;regnety_040&#39;,&#39;regnety_064&#39;,&#39;regnety_080&#39;,&#39;regnety_120&#39;,&#39;regnety_160&#39;,&#39;regnety_320&#39;,&#39;repvgg_a2&#39;,&#39;repvgg_b0&#39;,&#39;repvgg_b1&#39;,&#39;repvgg_b1g4&#39;,&#39;repvgg_b2&#39;,&#39;repvgg_b2g4&#39;,&#39;repvgg_b3&#39;,&#39;repvgg_b3g4&#39;,&#39;res2net50_14w_8s&#39;,&#39;res2net50_26w_4s&#39;,&#39;res2net50_26w_6s&#39;,&#39;res2net50_26w_8s&#39;,&#39;res2net50_48w_2s&#39;,&#39;res2net101_26w_4s&#39;,&#39;res2next50&#39;,&#39;resnest14d&#39;,&#39;resnest26d&#39;,&#39;resnest50d&#39;,&#39;resnest50d_1s4x24d&#39;,&#39;resnest50d_4s2x40d&#39;,&#39;resnest101e&#39;,&#39;resnest200e&#39;,&#39;resnest269e&#39;,&#39;resnet18&#39;,&#39;resnet18d&#39;,&#39;resnet26&#39;,&#39;resnet26d&#39;,&#39;resnet34&#39;,&#39;resnet34d&#39;,&#39;resnet50&#39;,&#39;resnet50d&#39;,&#39;resnet101d&#39;,&#39;resnet152d&#39;,&#39;resnet200d&#39;,&#39;resnetblur50&#39;,&#39;resnetrs50&#39;,&#39;resnetrs101&#39;,&#39;resnetrs152&#39;,&#39;resnetrs200&#39;,&#39;resnetrs270&#39;,&#39;resnetrs350&#39;,&#39;resnetrs420&#39;,&#39;resnetv2_50x1_bitm&#39;,&#39;resnetv2_50x1_bitm_in21k&#39;,&#39;resnetv2_50x3_bitm&#39;,&#39;resnetv2_50x3_bitm_in21k&#39;,&#39;resnetv2_101x1_bitm&#39;,&#39;resnetv2_101x1_bitm_in21k&#39;,&#39;resnetv2_101x3_bitm&#39;,&#39;resnetv2_101x3_bitm_in21k&#39;,&#39;resnetv2_152x2_bitm&#39;,&#39;resnetv2_152x2_bitm_in21k&#39;,&#39;resnetv2_152x4_bitm&#39;,&#39;resnetv2_152x4_bitm_in21k&#39;,&#39;resnext50_32x4d&#39;,&#39;resnext50d_32x4d&#39;,&#39;resnext101_32x8d&#39;,&#39;rexnet_100&#39;,&#39;rexnet_130&#39;,&#39;rexnet_150&#39;,&#39;rexnet_200&#39;,&#39;selecsls42b&#39;,&#39;selecsls60&#39;,&#39;selecsls60b&#39;,&#39;semnasnet_100&#39;,&#39;seresnet50&#39;,&#39;seresnet152d&#39;,&#39;seresnext26d_32x4d&#39;,&#39;seresnext26t_32x4d&#39;,&#39;seresnext50_32x4d&#39;,&#39;skresnet18&#39;,&#39;skresnet34&#39;,&#39;skresnext50_32x4d&#39;,&#39;spnasnet_100&#39;,&#39;ssl_resnet18&#39;,&#39;ssl_resnet50&#39;,&#39;ssl_resnext50_32x4d&#39;,&#39;ssl_resnext101_32x4d&#39;,&#39;ssl_resnext101_32x8d&#39;,&#39;ssl_resnext101_32x16d&#39;,&#39;swin_base_patch4_window7_224&#39;,&#39;swin_base_patch4_window7_224_in22k&#39;,&#39;swin_base_patch4_window12_384&#39;,&#39;swin_base_patch4_window12_384_in22k&#39;,&#39;swin_large_patch4_window7_224&#39;,&#39;swin_large_patch4_window7_224_in22k&#39;,&#39;swin_large_patch4_window12_384&#39;,&#39;swin_large_patch4_window12_384_in22k&#39;,&#39;swin_small_patch4_window7_224&#39;,&#39;swin_tiny_patch4_window7_224&#39;,&#39;swsl_resnet18&#39;,&#39;swsl_resnet50&#39;,&#39;swsl_resnext50_32x4d&#39;,&#39;swsl_resnext101_32x4d&#39;,&#39;swsl_resnext101_32x8d&#39;,&#39;swsl_resnext101_32x16d&#39;,&#39;tf_efficientnet_b0&#39;,&#39;tf_efficientnet_b0_ap&#39;,&#39;tf_efficientnet_b0_ns&#39;,&#39;tf_efficientnet_b1&#39;,&#39;tf_efficientnet_b1_ap&#39;,&#39;tf_efficientnet_b1_ns&#39;,&#39;tf_efficientnet_b2&#39;,&#39;tf_efficientnet_b2_ap&#39;,&#39;tf_efficientnet_b2_ns&#39;,&#39;tf_efficientnet_b3&#39;,&#39;tf_efficientnet_b3_ap&#39;,&#39;tf_efficientnet_b3_ns&#39;,&#39;tf_efficientnet_b4&#39;,&#39;tf_efficientnet_b4_ap&#39;,&#39;tf_efficientnet_b4_ns&#39;,&#39;tf_efficientnet_b5&#39;,&#39;tf_efficientnet_b5_ap&#39;,&#39;tf_efficientnet_b5_ns&#39;,&#39;tf_efficientnet_b6&#39;,&#39;tf_efficientnet_b6_ap&#39;,&#39;tf_efficientnet_b6_ns&#39;,&#39;tf_efficientnet_b7&#39;,&#39;tf_efficientnet_b7_ap&#39;,&#39;tf_efficientnet_b7_ns&#39;,&#39;tf_efficientnet_b8&#39;,&#39;tf_efficientnet_b8_ap&#39;,&#39;tf_efficientnet_cc_b0_4e&#39;,&#39;tf_efficientnet_cc_b0_8e&#39;,&#39;tf_efficientnet_cc_b1_8e&#39;,&#39;tf_efficientnet_el&#39;,&#39;tf_efficientnet_em&#39;,&#39;tf_efficientnet_es&#39;,&#39;tf_efficientnet_l2_ns&#39;,&#39;tf_efficientnet_l2_ns_475&#39;,&#39;tf_efficientnet_lite0&#39;,&#39;tf_efficientnet_lite1&#39;,&#39;tf_efficientnet_lite2&#39;,&#39;tf_efficientnet_lite3&#39;,&#39;tf_efficientnet_lite4&#39;,&#39;tf_efficientnetv2_b0&#39;,&#39;tf_efficientnetv2_b1&#39;,&#39;tf_efficientnetv2_b2&#39;,&#39;tf_efficientnetv2_b3&#39;,&#39;tf_efficientnetv2_l&#39;,&#39;tf_efficientnetv2_l_in21ft1k&#39;,&#39;tf_efficientnetv2_l_in21k&#39;,&#39;tf_efficientnetv2_m&#39;,&#39;tf_efficientnetv2_m_in21ft1k&#39;,&#39;tf_efficientnetv2_m_in21k&#39;,&#39;tf_efficientnetv2_s&#39;,&#39;tf_efficientnetv2_s_in21ft1k&#39;,&#39;tf_efficientnetv2_s_in21k&#39;,&#39;tf_inception_v3&#39;,&#39;tf_mixnet_l&#39;,&#39;tf_mixnet_m&#39;,&#39;tf_mixnet_s&#39;,&#39;tf_mobilenetv3_large_075&#39;,&#39;tf_mobilenetv3_large_100&#39;,&#39;tf_mobilenetv3_large_minimal_100&#39;,&#39;tf_mobilenetv3_small_075&#39;,&#39;tf_mobilenetv3_small_100&#39;,&#39;tf_mobilenetv3_small_minimal_100&#39;,&#39;tnt_s_patch16_224&#39;,&#39;tresnet_l&#39;,&#39;tresnet_l_448&#39;,&#39;tresnet_m&#39;,&#39;tresnet_m_448&#39;,&#39;tresnet_m_miil_in21k&#39;,&#39;tresnet_xl&#39;,&#39;tresnet_xl_448&#39;,&#39;tv_densenet121&#39;,&#39;tv_resnet34&#39;,&#39;tv_resnet50&#39;,&#39;tv_resnet101&#39;,&#39;tv_resnet152&#39;,&#39;tv_resnext50_32x4d&#39;,&#39;vgg11&#39;,&#39;vgg11_bn&#39;,&#39;vgg13&#39;,&#39;vgg13_bn&#39;,&#39;vgg16&#39;,&#39;vgg16_bn&#39;,&#39;vgg19&#39;,&#39;vgg19_bn&#39;,&#39;vit_base_patch16_224&#39;,&#39;vit_base_patch16_224_in21k&#39;,&#39;vit_base_patch16_224_miil&#39;,&#39;vit_base_patch16_224_miil_in21k&#39;,&#39;vit_base_patch16_384&#39;,&#39;vit_base_patch32_224_in21k&#39;,&#39;vit_base_patch32_384&#39;,&#39;vit_base_r50_s16_224_in21k&#39;,&#39;vit_base_r50_s16_384&#39;,&#39;vit_deit_base_distilled_patch16_224&#39;,&#39;vit_deit_base_distilled_patch16_384&#39;,&#39;vit_deit_base_patch16_224&#39;,&#39;vit_deit_base_patch16_384&#39;,&#39;vit_deit_small_distilled_patch16_224&#39;,&#39;vit_deit_small_patch16_224&#39;,&#39;vit_deit_tiny_distilled_patch16_224&#39;,&#39;vit_deit_tiny_patch16_224&#39;,&#39;vit_large_patch16_224&#39;,&#39;vit_large_patch16_224_in21k&#39;,&#39;vit_large_patch16_384&#39;,&#39;vit_large_patch32_224_in21k&#39;,&#39;vit_large_patch32_384&#39;,&#39;vit_small_patch16_224&#39;,&#39;wide_resnet50_2&#39;,&#39;wide_resnet101_2&#39;,&#39;xception&#39;,&#39;xception41&#39;,&#39;xception65&#39;,&#39;xception71&#39; 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ioyy900205.github.io/post/2021-06-02-timm%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-06-02T11:02:33+08:00" />
<meta property="article:modified_time" content="2021-06-02T11:02:33+08:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://ioyy900205.github.io"><img class="app-header-avatar" src="https://pic4.zhimg.com/v2-dc3acd582fdc15161e6d10f72aa82697_r.jpg" alt="Liu Liang" /></a>
      <h1>亮的笔记</h1>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
             - 
          
          <a class="app-header-menu-item" href="/about/">About</a>
      </nav>
      <p>深度学习笔记本</p>
      <div class="app-header-social">
        
          <a href="https://github.com/ioyy900205" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://twitter.com/ioyy900205" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter">
  <title>Twitter</title>
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">timm库的使用</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jun 2, 2021
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          3 min read
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="https://ioyy900205.github.io/tags/backbone/">Backbone</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>在研究transformer时，发现timm库可以直接使用预训练的模型。</p>
<hr>
<ul>
<li><a href="#1-timm%E7%AE%80%E4%BB%8B">1. timm简介</a></li>
<li><a href="#2-%E5%B7%B2%E6%9C%89%E7%9A%84%E9%A2%84%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B">2. 已有的预训练模型</a></li>
<li><a href="#3-%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%BC%8F%E6%9F%A5%E7%9C%8B%E9%A2%84%E8%AE%AD%E7%BB%83%E7%BB%93%E6%9E%9C">3. 验证模式查看预训练结果</a></li>
<li><a href="#4-%E4%BD%BF%E7%94%A8vit%E6%A8%A1%E5%9E%8B">4. 使用ViT模型</a></li>
<li><a href="#5-%E4%BD%BF%E7%94%A8tf_efficientnet_l2_ns%E6%A8%A1%E5%9E%8B">5. 使用tf_efficientnet_l2_ns模型</a></li>
</ul>
<h2 id="1-timm简介">1. timm简介</h2>
<p>PyTorchImageModels，简称timm，是一个巨大的PyTorch代码集合</p>
<p>旨在将各种SOTA模型整合在一起，并具有复现ImageNet训练结果的能力。</p>
<h2 id="2-已有的预训练模型">2. 已有的预训练模型</h2>
<pre><code>'adv_inception_v3',
'cait_m36_384',
'cait_m48_448',
'cait_s24_224',
'cait_s24_384',
'cait_s36_384',
'cait_xs24_384',
'cait_xxs24_224',
'cait_xxs24_384',
'cait_xxs36_224',
'cait_xxs36_384',
'coat_lite_mini',
'coat_lite_tiny',
'cspdarknet53',
'cspresnet50',
'cspresnext50',
'densenet121',
'densenet161',
'densenet169',
'densenet201',
'densenetblur121d',
'dla34',
'dla46_c',
'dla46x_c',
'dla60',
'dla60_res2net',
'dla60_res2next',
'dla60x',
'dla60x_c',
'dla102',
'dla102x',
'dla102x2',
'dla169',
'dm_nfnet_f0',
'dm_nfnet_f1',
'dm_nfnet_f2',
'dm_nfnet_f3',
'dm_nfnet_f4',
'dm_nfnet_f5',
'dm_nfnet_f6',
'dpn68',
'dpn68b',
'dpn92',
'dpn98',
'dpn107',
'dpn131',
'eca_nfnet_l0',
'eca_nfnet_l1',
'ecaresnet26t',
'ecaresnet50d',
'ecaresnet50d_pruned',
'ecaresnet50t',
'ecaresnet101d',
'ecaresnet101d_pruned',
'ecaresnet269d',
'ecaresnetlight',
'efficientnet_b0',
'efficientnet_b1',
'efficientnet_b1_pruned',
'efficientnet_b2',
'efficientnet_b2_pruned',
'efficientnet_b3',
'efficientnet_b3_pruned',
'efficientnet_b4',
'efficientnet_el',
'efficientnet_el_pruned',
'efficientnet_em',
'efficientnet_es',
'efficientnet_es_pruned',
'efficientnet_lite0',
'efficientnetv2_rw_s',
'ens_adv_inception_resnet_v2',
'ese_vovnet19b_dw',
'ese_vovnet39b',
'fbnetc_100',
'gernet_l',
'gernet_m',
'gernet_s',
'ghostnet_100',
'gluon_inception_v3',
'gluon_resnet18_v1b',
'gluon_resnet34_v1b',
'gluon_resnet50_v1b',
'gluon_resnet50_v1c',
'gluon_resnet50_v1d',
'gluon_resnet50_v1s',
'gluon_resnet101_v1b',
'gluon_resnet101_v1c',
'gluon_resnet101_v1d',
'gluon_resnet101_v1s',
'gluon_resnet152_v1b',
'gluon_resnet152_v1c',
'gluon_resnet152_v1d',
'gluon_resnet152_v1s',
'gluon_resnext50_32x4d',
'gluon_resnext101_32x4d',
'gluon_resnext101_64x4d',
'gluon_senet154',
'gluon_seresnext50_32x4d',
'gluon_seresnext101_32x4d',
'gluon_seresnext101_64x4d',
'gluon_xception65',
'hardcorenas_a',
'hardcorenas_b',
'hardcorenas_c',
'hardcorenas_d',
'hardcorenas_e',
'hardcorenas_f',
'hrnet_w18',
'hrnet_w18_small',
'hrnet_w18_small_v2',
'hrnet_w30',
'hrnet_w32',
'hrnet_w40',
'hrnet_w44',
'hrnet_w48',
'hrnet_w64',
'ig_resnext101_32x8d',
'ig_resnext101_32x16d',
'ig_resnext101_32x32d',
'ig_resnext101_32x48d',
'inception_resnet_v2',
'inception_v3',
'inception_v4',
'legacy_senet154',
'legacy_seresnet18',
'legacy_seresnet34',
'legacy_seresnet50',
'legacy_seresnet101',
'legacy_seresnet152',
'legacy_seresnext26_32x4d',
'legacy_seresnext50_32x4d',
'legacy_seresnext101_32x4d',
'mixer_b16_224',
'mixer_b16_224_in21k',
'mixer_l16_224',
'mixer_l16_224_in21k',
'mixnet_l',
'mixnet_m',
'mixnet_s',
'mixnet_xl',
'mnasnet_100',
'mobilenetv2_100',
'mobilenetv2_110d',
'mobilenetv2_120d',
'mobilenetv2_140',
'mobilenetv3_large_100',
'mobilenetv3_large_100_miil',
'mobilenetv3_large_100_miil_in21k',
'mobilenetv3_rw',
'nasnetalarge',
'nf_regnet_b1',
'nf_resnet50',
'nfnet_l0',
'pit_b_224',
'pit_b_distilled_224',
'pit_s_224',
'pit_s_distilled_224',
'pit_ti_224',
'pit_ti_distilled_224',
'pit_xs_224',
'pit_xs_distilled_224',
'pnasnet5large',
'regnetx_002',
'regnetx_004',
'regnetx_006',
'regnetx_008',
'regnetx_016',
'regnetx_032',
'regnetx_040',
'regnetx_064',
'regnetx_080',
'regnetx_120',
'regnetx_160',
'regnetx_320',
'regnety_002',
'regnety_004',
'regnety_006',
'regnety_008',
'regnety_016',
'regnety_032',
'regnety_040',
'regnety_064',
'regnety_080',
'regnety_120',
'regnety_160',
'regnety_320',
'repvgg_a2',
'repvgg_b0',
'repvgg_b1',
'repvgg_b1g4',
'repvgg_b2',
'repvgg_b2g4',
'repvgg_b3',
'repvgg_b3g4',
'res2net50_14w_8s',
'res2net50_26w_4s',
'res2net50_26w_6s',
'res2net50_26w_8s',
'res2net50_48w_2s',
'res2net101_26w_4s',
'res2next50',
'resnest14d',
'resnest26d',
'resnest50d',
'resnest50d_1s4x24d',
'resnest50d_4s2x40d',
'resnest101e',
'resnest200e',
'resnest269e',
'resnet18',
'resnet18d',
'resnet26',
'resnet26d',
'resnet34',
'resnet34d',
'resnet50',
'resnet50d',
'resnet101d',
'resnet152d',
'resnet200d',
'resnetblur50',
'resnetrs50',
'resnetrs101',
'resnetrs152',
'resnetrs200',
'resnetrs270',
'resnetrs350',
'resnetrs420',
'resnetv2_50x1_bitm',
'resnetv2_50x1_bitm_in21k',
'resnetv2_50x3_bitm',
'resnetv2_50x3_bitm_in21k',
'resnetv2_101x1_bitm',
'resnetv2_101x1_bitm_in21k',
'resnetv2_101x3_bitm',
'resnetv2_101x3_bitm_in21k',
'resnetv2_152x2_bitm',
'resnetv2_152x2_bitm_in21k',
'resnetv2_152x4_bitm',
'resnetv2_152x4_bitm_in21k',
'resnext50_32x4d',
'resnext50d_32x4d',
'resnext101_32x8d',
'rexnet_100',
'rexnet_130',
'rexnet_150',
'rexnet_200',
'selecsls42b',
'selecsls60',
'selecsls60b',
'semnasnet_100',
'seresnet50',
'seresnet152d',
'seresnext26d_32x4d',
'seresnext26t_32x4d',
'seresnext50_32x4d',
'skresnet18',
'skresnet34',
'skresnext50_32x4d',
'spnasnet_100',
'ssl_resnet18',
'ssl_resnet50',
'ssl_resnext50_32x4d',
'ssl_resnext101_32x4d',
'ssl_resnext101_32x8d',
'ssl_resnext101_32x16d',
'swin_base_patch4_window7_224',
'swin_base_patch4_window7_224_in22k',
'swin_base_patch4_window12_384',
'swin_base_patch4_window12_384_in22k',
'swin_large_patch4_window7_224',
'swin_large_patch4_window7_224_in22k',
'swin_large_patch4_window12_384',
'swin_large_patch4_window12_384_in22k',
'swin_small_patch4_window7_224',
'swin_tiny_patch4_window7_224',
'swsl_resnet18',
'swsl_resnet50',
'swsl_resnext50_32x4d',
'swsl_resnext101_32x4d',
'swsl_resnext101_32x8d',
'swsl_resnext101_32x16d',
'tf_efficientnet_b0',
'tf_efficientnet_b0_ap',
'tf_efficientnet_b0_ns',
'tf_efficientnet_b1',
'tf_efficientnet_b1_ap',
'tf_efficientnet_b1_ns',
'tf_efficientnet_b2',
'tf_efficientnet_b2_ap',
'tf_efficientnet_b2_ns',
'tf_efficientnet_b3',
'tf_efficientnet_b3_ap',
'tf_efficientnet_b3_ns',
'tf_efficientnet_b4',
'tf_efficientnet_b4_ap',
'tf_efficientnet_b4_ns',
'tf_efficientnet_b5',
'tf_efficientnet_b5_ap',
'tf_efficientnet_b5_ns',
'tf_efficientnet_b6',
'tf_efficientnet_b6_ap',
'tf_efficientnet_b6_ns',
'tf_efficientnet_b7',
'tf_efficientnet_b7_ap',
'tf_efficientnet_b7_ns',
'tf_efficientnet_b8',
'tf_efficientnet_b8_ap',
'tf_efficientnet_cc_b0_4e',
'tf_efficientnet_cc_b0_8e',
'tf_efficientnet_cc_b1_8e',
'tf_efficientnet_el',
'tf_efficientnet_em',
'tf_efficientnet_es',
'tf_efficientnet_l2_ns',
'tf_efficientnet_l2_ns_475',
'tf_efficientnet_lite0',
'tf_efficientnet_lite1',
'tf_efficientnet_lite2',
'tf_efficientnet_lite3',
'tf_efficientnet_lite4',
'tf_efficientnetv2_b0',
'tf_efficientnetv2_b1',
'tf_efficientnetv2_b2',
'tf_efficientnetv2_b3',
'tf_efficientnetv2_l',
'tf_efficientnetv2_l_in21ft1k',
'tf_efficientnetv2_l_in21k',
'tf_efficientnetv2_m',
'tf_efficientnetv2_m_in21ft1k',
'tf_efficientnetv2_m_in21k',
'tf_efficientnetv2_s',
'tf_efficientnetv2_s_in21ft1k',
'tf_efficientnetv2_s_in21k',
'tf_inception_v3',
'tf_mixnet_l',
'tf_mixnet_m',
'tf_mixnet_s',
'tf_mobilenetv3_large_075',
'tf_mobilenetv3_large_100',
'tf_mobilenetv3_large_minimal_100',
'tf_mobilenetv3_small_075',
'tf_mobilenetv3_small_100',
'tf_mobilenetv3_small_minimal_100',
'tnt_s_patch16_224',
'tresnet_l',
'tresnet_l_448',
'tresnet_m',
'tresnet_m_448',
'tresnet_m_miil_in21k',
'tresnet_xl',
'tresnet_xl_448',
'tv_densenet121',
'tv_resnet34',
'tv_resnet50',
'tv_resnet101',
'tv_resnet152',
'tv_resnext50_32x4d',
'vgg11',
'vgg11_bn',
'vgg13',
'vgg13_bn',
'vgg16',
'vgg16_bn',
'vgg19',
'vgg19_bn',
'vit_base_patch16_224',
'vit_base_patch16_224_in21k',
'vit_base_patch16_224_miil',
'vit_base_patch16_224_miil_in21k',
'vit_base_patch16_384',
'vit_base_patch32_224_in21k',
'vit_base_patch32_384',
'vit_base_r50_s16_224_in21k',
'vit_base_r50_s16_384',
'vit_deit_base_distilled_patch16_224',
'vit_deit_base_distilled_patch16_384',
'vit_deit_base_patch16_224',
'vit_deit_base_patch16_384',
'vit_deit_small_distilled_patch16_224',
'vit_deit_small_patch16_224',
'vit_deit_tiny_distilled_patch16_224',
'vit_deit_tiny_patch16_224',
'vit_large_patch16_224',
'vit_large_patch16_224_in21k',
'vit_large_patch16_384',
'vit_large_patch32_224_in21k',
'vit_large_patch32_384',
'vit_small_patch16_224',
'wide_resnet50_2',
'wide_resnet101_2',
'xception',
'xception41',
'xception65',
'xception71'
</code></pre>
<h2 id="3-验证模式查看预训练结果">3. 验证模式查看预训练结果</h2>
<p>设置好数据集路径之后，选择sota模型efficientnet_b3a
结果如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"> <span style="color:#f92672">*</span> Acc<span style="color:#f92672">@</span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">82.240</span> (<span style="color:#ae81ff">17.760</span>) Acc<span style="color:#f92672">@</span><span style="color:#ae81ff">5</span> <span style="color:#ae81ff">96.116</span> (<span style="color:#ae81ff">3.884</span>)
</code></pre></div><p>这个结果与网页一致
<a href="https://rwightman.github.io/pytorch-image-models/results/">https://rwightman.github.io/pytorch-image-models/results/</a></p>
<h2 id="4-使用vit模型">4. 使用ViT模型</h2>
<p>这里使用vit_large_patch16_224模型</p>
<p>权重模型1个多G</p>
<p>结果如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">*</span> Acc<span style="color:#f92672">@</span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">83.056</span> (<span style="color:#ae81ff">16.944</span>) Acc<span style="color:#f92672">@</span><span style="color:#ae81ff">5</span> <span style="color:#ae81ff">96.436</span> (<span style="color:#ae81ff">3.564</span>)
</code></pre></div><h2 id="5-使用tf_efficientnet_l2_ns模型">5. 使用tf_efficientnet_l2_ns模型</h2>
<p>结果如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#a6e22e">RuntimeError</span>: CUDA out of memory<span style="color:#f92672">.</span> Tried to allocate <span style="color:#ae81ff">10.38</span> GiB (GPU <span style="color:#ae81ff">0</span>; <span style="color:#ae81ff">10.92</span> GiB total capacity; <span style="color:#ae81ff">4.58</span> GiB already allocated; <span style="color:#ae81ff">5.77</span> GiB free; <span style="color:#ae81ff">4.60</span> GiB reserved <span style="color:#f92672">in</span> total by PyTorch)
</code></pre></div><p>捉襟见肘</p>
<p>：(</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"> <span style="color:#f92672">*</span> Acc<span style="color:#f92672">@</span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">88.352</span> (<span style="color:#ae81ff">11.648</span>) Acc<span style="color:#f92672">@</span><span style="color:#ae81ff">5</span> <span style="color:#ae81ff">98.648</span> (<span style="color:#ae81ff">1.352</span>)
</code></pre></div><p>补充一下，后续又重新搞了一个top1达到88的结果/</p>
<hr>
<p><strong>参考资料</strong></p>
<p><a href="https://github.com/rwightman/pytorch-image-models">https://github.com/rwightman/pytorch-image-models</a></p>
<p><a href="https://rwightman.github.io/pytorch-image-models/">https://rwightman.github.io/pytorch-image-models/</a></p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
